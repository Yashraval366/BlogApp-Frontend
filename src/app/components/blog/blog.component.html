<!-- HERO SECTION -->
<section class="blog-hero">
  <div class="hero-content text-center">
    <h1 class="fw-bold">Explore Inspiring Blogs</h1>
    <p class="lead">Discover thoughts, stories, and ideas from creators worldwide.</p>
  </div>
</section>

<!-- FILTER BAR -->
<div class="container mt-5">
  <div class="filter-bar shadow-sm">

    <!-- Search -->
    <div class="search-wrapper">
      <i class="fa-solid fa-search"></i>
      <input type="text" placeholder="Search blogs..." />
    </div>

    <!-- Category Filter -->
    <select class="category-select">
      <option value="" disabled selected>All Categories</option>
      @for(c of store.categoryList(); track c.id)
      {
        <option [value]="c.id">{{c.name}}</option>
      }
    </select>

  </div>
</div>

<!-- SKELETON LOADER FOR ALL BLOGS -->
<div class="masonry" *ngIf="blogResponse().status == 'loading'">

  <div class="masonry-item" *ngFor="let s of [1,1,1,1,1,1]">
    <div class="skeleton-card">

      <!-- Category Tag -->
      <div class="skeleton skeleton-tag"></div>

      <!-- Title -->
      <div class="skeleton skeleton-title"></div>

      <!-- Description Lines -->
      <div class="skeleton skeleton-line"></div>
      <div class="skeleton skeleton-line"></div>
      <div class="skeleton skeleton-line short"></div>

      <!-- Meta -->
      <div class="skeleton skeleton-meta"></div>

      <!-- Button -->
      <div class="skeleton skeleton-btn"></div>

    </div>
  </div>

</div>

<!-- BLOG GRID -->
<div class="container mt-4" *ngIf="blogState().status == 'success'">
  <div class="masonry">
    @for(b of blogs(); track b.id)
    {
      <div class="masonry-item">
      
        <div class="blog-card-modern">
      
          <span class="category-tag">
            <i class="fa-solid fa-tag me-1"></i>{{ b.categoryName }}
          </span>
      
          <h4 class="blog-title-modern">{{ b.title }}</h4>
      
          <p class="blog-desc-modern">
            {{ b.description }}
          </p>
      
          <div class="blog-meta">
            <span><i class="fa-solid fa-user me-1"></i>{{ b.authorName }}</span>
            <span><i class="fa-solid fa-calendar me-1"></i>{{ b.createdAt | date:'mediumDate' }}</span>
          </div>

          <!-- ACTION BAR -->
           <app-reaction 
              [likeCount]="b.likeCounts"
              [dislikeCount]="b.dislikeCounts"
              [commentCount]="b.commentCounts"
              [userReaction]="b.userReaction"
              (like)="like(b.id)"
              (dislike)="dislike(b.id)">
            </app-reaction>
      
          <a class="read-more-btn" routerLink="/blog-details/{{ b.id }}">
            Read More <i class="fa-solid fa-arrow-right ms-1"></i>
          </a>
      
        </div>
      </div>
    }
  </div>
</div>
<app-pagination [page]="pageNumber()" [totalPages]="totalPages()" (pageChange)="loadPage($event)">
</app-pagination>